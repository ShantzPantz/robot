# =================================================================
# Mosquitto Configuration File for Docker
# =================================================================

# -----------------------------------------------------------------
# Listeners
# -----------------------------------------------------------------
listener 1883
protocol mqtt

# Optional: WebSockets listener (if needed for web clients)
# listener 9001
# protocol websockets


# -----------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------
allow_anonymous false # Crucial: only allow authenticated connections

# Path to the password file within the container's mounted volume.
# This maps to ./mosquitto/config/pwfile.txt on your host.
password_file /mosquitto/config/pwfile.txt


# -----------------------------------------------------------------
# Persistence (Optional but Recommended)
# Data will be stored in ./mosquitto/data on your host.
# -----------------------------------------------------------------
persistence true
persistence_location /mosquitto/data/


# -----------------------------------------------------------------
# Logging (Optional but Recommended for Debugging)
# Logs will be stored in ./mosquitto/log on your host.
# -----------------------------------------------------------------
log_dest file /mosquitto/log/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information
log_type debug # Very verbose, useful for deep debugging
# log_type all